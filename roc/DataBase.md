# 数据库设计

**陈鹏** 2014年11月11日 11:02:41 [返回首页][1]

---

今天学习数据库的相关知识，增删改查SQL语句（**查询语句是重点**），数据库使用**SQLSERVER**。

 - 存储过程
 - 并发锁（表锁、行锁）-该用法在熟练之后才可以使用。
    - **数据库事物**具备ACID特征，即原子性、一致性、隔离性和持久性。
 - `PowerDesigner`的使用
    - 注意命名规范(user_info、game_user_tb、game_user_log[日志表]等)
 - 表设计中的问题：
    - `Int` ---能表示2^32的大小。替代类型有`tinyint`，`smallint`，`bigint`；
    - `varchar()` ---可变长字符型，根据具体业务选择长度；
    - `datetime`/`smalldatetime`
        - `datetime`:从 1753 年 1 月 1 日到 9999 年 12 月 31 日的日期和时间数据，精确度为百分之三秒（等于 3.33 毫秒或 0.00333 秒）。如下表所示，把值调整到 .000、.003、或 .007 秒的增量。***Microsoft® SQL Server™ 拒绝所有其不能识别为 1753 年到 9999 年间的日期的值。***

        - `smalldatetime`:从 1900 年 1 月 1 日到 2079 年 6 月 6 日的日期和时间数据精确到分钟。29.998 秒或更低的 smalldatetime 值向下舍入为最接近的分钟，29.999 秒或更高的 smalldatetime 值向上舍入为最接近的分钟。
        > 注释:
        `Microsoft SQL Server` 用两个 4 字节的整数内部存储 `datetime` 数据类型的值。第一个 4 字节存储 base date（即 1900 年 1 月 1 日）之前或之后的天数。基础日期是系统参考日期。不允许早于 1753 年 1 月 1 日的 `datetime` 值。另外一个 4 字节存储以午夜后毫秒数所代表的每天的时间。
smalldatetime 数据类型存储日期和每天的时间，但精确度低于 `datetime`。SQL Server 将 `smalldatetime` 的值存储为两个 2 字节的整数。第一个 2 字节存储 1900 年 1 月 1 日后的天数。另外一个 2 字节存储午夜后的分钟数。日期范围从1900 年 1 月 1 日到 2079 年 6 月 6 日，精确到分钟。

 - 表主键 code 自增 （表关联 数值型int 效率高）

 
    

----------
## 作业：##
1.设计一个用户表

2.数据表增加至亿级别的查询效率提高



  [1]: http://cshijiel.github.io